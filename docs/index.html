<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Demo</title>
    <style>
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .video-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
        }
        .video-container {
            width: 32%;
            position: relative;
        }
        video {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
        h2 {
            margin: 40px 0 20px;
            color: #333;
            text-align: center;
        }
        .debug-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 10px;
            font-family: monospace;
            max-height: 200px;
            overflow-y: auto;
        }
        .debug-message {
            margin: 5px 0;
        }
        .error {
            color: #ff4444;
            background: rgba(255, 68, 68, 0.1);
            padding: 5px;
            border-radius: 4px;
            margin: 5px 0;
        }
    </style>
    <script>
        function addDebugMessage(message) {
            const debugPanel = document.getElementById('debug-panel');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'debug-message';
            messageDiv.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            debugPanel.appendChild(messageDiv);
            
            // Auto-scroll to bottom
            debugPanel.scrollTop = debugPanel.scrollHeight;
        }

        function handleVideoError(video) {
            console.error('Error loading video:', video.src);
            addDebugMessage(`Error loading video: ${video.src}`);
            const errorMessage = document.createElement('p');
            errorMessage.className = 'error';
            errorMessage.textContent = 'Video loading failed. Please check the console for details.';
            video.parentElement.appendChild(errorMessage);
        }

        window.onload = function() {
            addDebugMessage('Page loaded. Checking video paths...');
            document.querySelectorAll('video source').forEach((source, index) => {
                const absolutePath = new URL(source.src, window.location.href).href;
                addDebugMessage(`Video ${index + 1}:`);
                addDebugMessage(`- Relative path: ${source.src}`);
                addDebugMessage(`- Absolute path: ${absolutePath}`);
                
                // Add video load state detection
                source.parentElement.addEventListener('error', (e) => {
                    addDebugMessage(`Error loading video ${index + 1}: ${e.target.error?.message || 'Unknown error'}`);
                });
                
                source.parentElement.addEventListener('loadeddata', () => {
                    addDebugMessage(`Video ${index + 1} loaded successfully`);
                });
            });
        };
    </script>
</head>
<body>
    <div class="container">
        <h2>AVSync Videos</h2>
        <div class="video-row">
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/avsync/video1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/avsync/video2.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/avsync/video3.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <div class="video-row">
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/avsync/video4.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/avsync/video5.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/avsync/video6.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>

        <h2>VGGSound Videos</h2>
        <div class="video-row">
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/vggsound/video1.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/vggsound/video2.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/vggsound/video3.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <div class="video-row">
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/vggsound/video4.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/vggsound/video5.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="video-container">
                <video controls onError="handleVideoError(this)">
                    <source src="../assets/vggsound/video6.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>

    <!-- Debug Panel -->
    <div id="debug-panel" class="debug-panel">
        <div class="debug-message">Debug Information:</div>
    </div>
</body>
</html>